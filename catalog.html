<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡∏•‡πâ‡∏≠‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå ‚Äî Catalog</title>

  <style>
  /* =========================
     COMPLETE STYLE for catalog.html
     Mobile-first, pastel yellow-orange theme
     ========================= */

  :root{
    --bg: #fff7f0;
    --card: #ffffff;
    --accent: #f6a623;
    --accent-2: #ffd9a6;
    --muted: #6b7280;
    --shadow: 0 10px 30px rgba(18,24,40,0.06);
    --radius: 14px;
    --container: 1100px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: Inter, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    -webkit-font-smoothing:antialiased;
    background: linear-gradient(180deg,#fffaf4 0%, #fff6ee 60%);
    color:#111827;
  }
  .container{max-width:var(--container);margin:0 auto;padding:18px}

  /* TOPBAR */
  .topbar{padding:12px 0 8px; position:sticky; top:0; background:transparent; z-index:50}
  .topbar-inner{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .brand{display:flex;gap:12px;align-items:center}
  .brand-ic{font-size:28px}
  .title{font-size:20px;margin:0;font-weight:800}
  .subtitle{font-size:13px;color:var(--muted); margin-top:2px}

  /* navigation buttons (prominent) */
  .nav-mini{display:flex;gap:8px}
  .nav-btn{
    padding:8px 12px;border-radius:10px;border:0;background:transparent;color:var(--muted);cursor:pointer;
    font-weight:600;box-shadow:0 2px 8px rgba(2,6,23,0.04);
  }
  .nav-btn.active{
    background:linear-gradient(90deg,var(--accent),#ffb66a);color:#fff; box-shadow:0 8px 24px rgba(246,166,35,0.14);
  }

  /* layout */
  .layout{display:grid;grid-template-columns: 1fr;gap:18px;align-items:start}
  @media(min-width:900px){ .layout{grid-template-columns: 240px 1fr} }

  /* filters column */
  .filters{
    background:linear-gradient(180deg,#fff,#fffaf6);
    padding:14px;border-radius:var(--radius);box-shadow:var(--shadow);
  }
  .filters label{display:block;margin-bottom:10px;font-size:14px;color:#222}
  .filters select, .filters input[type="search"]{
    width:100%;padding:10px;border-radius:10px;border:1px solid #efe9e4;background:#fff;
    box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);
  }
  .filters .controls{display:flex;gap:8px;margin-top:10px}
  .filters .controls .btn{flex:1}

  /* search moved into filters area for mobile UX */
  .search-inline{margin-top:10px;display:flex;gap:8px}

  /* catalog header */
  .catalog-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
  .result-count{font-weight:700;color:#333}

  /* cards grid */
  .cards-grid{display:grid;grid-template-columns: repeat(2,1fr); gap:18px}
  @media(min-width:900px){ .cards-grid{grid-template-columns: repeat(3,1fr)} }
  @media(min-width:1200px){ .cards-grid{grid-template-columns: repeat(4,1fr)} }

  /* card */
  .product-card, .card{
    background:var(--card);border-radius:12px;overflow:hidden;box-shadow:var(--shadow);
    display:flex;flex-direction:column;transition:transform .18s ease, box-shadow .18s ease;
    border:1px solid rgba(12,16,20,0.02);
  }
  .product-card:hover, .card:hover{ transform:translateY(-6px); box-shadow:0 20px 50px rgba(2,6,23,0.08); }

  /* image */
  .thumb{height:180px;display:flex;align-items:center;justify-content:center;background:#fff7f0}
  .thumb img{width:100%;height:100%;object-fit:cover;display:block}

  /* body */
  .card-body{padding:12px 14px;flex:1;display:flex;flex-direction:column;gap:8px}
  .title-row{display:flex;gap:10px;align-items:center}
  .badge{display:inline-block;padding:6px 8px;border-radius:999px;font-size:12px;background:linear-gradient(90deg,#fff7eb,#fff1d9);color:var(--accent);border:1px solid rgba(246,166,35,0.12)}
  .product-title{font-weight:700}
  .product-price{font-weight:800;color:#ff7a00;font-size:18px;margin-top:4px}
  .muted.small{font-size:13px;color:var(--muted)}

  /* card footer */
  .card-foot{display:flex;align-items:center;justify-content:space-between;padding:10px;border-top:1px dashed rgba(0,0,0,0.03)}
  .btn-outline{background:#fff;border:1px solid rgba(0,0,0,0.06);padding:8px 12px;border-radius:10px;color:var(--accent);cursor:pointer}
  .btn-primary{background:var(--accent);color:#fff;border-radius:10px;padding:8px 12px;border:0;cursor:pointer}

  /* modal */
  .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.45);z-index:9999}
  .modal.hidden{display:none}
  .modal-panel{width:94%;max-width:920px;background:white;border-radius:12px;padding:16px;box-shadow:0 18px 48px rgba(2,6,23,0.2)}
  .modal-body{display:grid;grid-template-columns:1fr;gap:12px}
  @media(min-width:700px){ .modal-body{grid-template-columns:380px 1fr} }
  .modal-image img{width:100%;height:100%;object-fit:cover;border-radius:10px}
  .modal-close{position:absolute;right:14px;top:10px;background:transparent;border:0;font-size:22px;cursor:pointer;color:var(--muted)}

  /* spinner */
  .spinner-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:9998}
  .spinner-overlay.hidden{display:none}
  .spinner-panel{display:flex;gap:12px;align-items:center;background:rgba(255,255,255,0.95);padding:12px;border-radius:12px;box-shadow:0 12px 30px rgba(2,6,23,0.12)}
  .lds-dual-ring{display:inline-block;width:40px;height:40px}
  .lds-dual-ring:after{content:" ";display:block;width:28px;height:28px;margin:4px;border-radius:50%;border:4px solid var(--accent);border-color:var(--accent) transparent var(--accent) transparent;animation:lds-dual-ring 1.2s linear infinite}
  @keyframes lds-dual-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}

  /* utilities */
  .hidden{display:none !important}
  .muted{color:var(--muted)}
  .empty-state{text-align:center;padding:20px;color:var(--muted)}
  </style>
</head>
<body>
  <header class="topbar">
    <div class="topbar-inner container">
      <div class="brand">
        <div class="brand-ic" aria-hidden="true">üõû</div>
        <div>
          <h1 class="title">‡∏•‡πâ‡∏≠‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå</h1>
          <div class="subtitle">‡∏î‡∏π‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</div>
        </div>
      </div>

      <nav class="nav-mini" aria-label="‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å">
        <button class="nav-btn active" data-view="catalog">Catalog</button>
        <button class="nav-btn" data-view="history">History</button>
        <button class="nav-btn" data-view="admin">Admin</button>
      </nav>
    </div>
  </header>

  <main class="container layout" role="main">
    <aside class="filters" aria-labelledby="filterHeading">
      <div id="filterHeading" style="font-weight:700;margin-bottom:8px">‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</div>

      <label>
        ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
        <select id="filterCategory"><option value="">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option></select>
      </label>

      <label>
        ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
        <select id="filterStatus">
          <option value="">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
          <option value="active">active</option>
          <option value="‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á</option>
          <option value="deleted">deleted</option>
        </select>
      </label>

      <!-- search moved here as requested -->
      <div class="search-inline" style="margin-top:10px">
        <input id="searchInput" type="search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..." aria-label="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" />
        <button id="searchBtn" class="btn-primary">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
      </div>

      <div class="controls" style="margin-top:12px">
        <button id="clearFilters" class="btn-outline" style="width:100%">‡∏•‡πâ‡∏≤‡∏á</button>
      </div>
    </aside>

    <section class="catalog" aria-labelledby="catalogHeading">
      <div class="catalog-top">
        <div id="resultCount" class="result-count">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
        <div id="loadingInline" class="muted small hidden">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...</div>
      </div>

      <div id="cards" class="cards-grid" aria-live="polite">
        <!-- JS ‡∏à‡∏∞ inject card ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡πÑ‡∏°‡πà‡∏°‡∏µ card ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà -->
      </div>

      <div style="height:18px"></div>
      <div id="catalogMsg" class="muted small"></div>
    </section>
  </main>

  <!-- Detail modal -->
  <div id="detailModal" class="modal hidden" role="dialog" aria-hidden="true">
    <div class="modal-panel">
      <button id="closeModal" class="modal-close" aria-label="‡∏õ‡∏¥‡∏î">√ó</button>
      <div class="modal-body">
        <div class="modal-image">
          <img id="modalImg" src="" alt="">
        </div>
        <div class="modal-info">
          <h2 id="modalTitle">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
          <div id="modalPrice" class="product-price">‡∏£‡∏≤‡∏Ñ‡∏≤</div>
          <div id="modalStatus" class="muted small">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</div>
          <p id="modalDesc" class="muted small" style="margin-top:10px"></p>
          <div style="margin-top:12px">
            <button class="btn-primary">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
            <button id="modalCloseBtn" class="btn-outline" style="margin-left:8px">‡∏õ‡∏¥‡∏î</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Spinner -->
  <div id="globalSpinner" class="spinner-overlay hidden" aria-hidden="true">
    <div class="spinner-panel">
      <div class="lds-dual-ring" aria-hidden="true"></div>
      <div id="globalSpinnerText">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
    </div>
  </div>

  <script>
  /* =========================
     catalog.js inline (ready-to-use)
     - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ APPS_SCRIPT_URL ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
     - ‡∏ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á sample data
     ========================= */

  (function(){
    // === SET YOUR APPS SCRIPT URL HERE ===
    const APPS_SCRIPT_URL = ''; // <-- ‡∏ß‡∏≤‡∏á Apps Script URL ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 'https://script.google.com/macros/s/AK.../exec')

    const PLACEHOLDER = 'data:image/svg+xml;utf8,' + encodeURIComponent(
      `<svg xmlns="http://www.w3.org/2000/svg" width="800" height="480"><rect width="100%" height="100%" fill="#f6f6f6"/></svg>`
    );

    const qs = s => document.querySelector(s);
    const qsa = s => Array.from(document.querySelectorAll(s));
    const setHidden = (el, v) => { if(!el) return; el.classList.toggle('hidden', !!v); };

    // spinner helpers
    const spinner = {
      show(msg){ const g = qs('#globalSpinner'); if(!g) return; qs('#globalSpinnerText').textContent = msg || '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...'; g.classList.remove('hidden'); },
      hide(){ const g = qs('#globalSpinner'); if(g) g.classList.add('hidden'); }
    };

    async function apiGet(params){
      if(!APPS_SCRIPT_URL) return null;
      const url = APPS_SCRIPT_URL + '?' + new URLSearchParams(params).toString();
      const res = await fetch(url);
      return res.json();
    }

    // create card element
    function makeCard(p){
      const root = document.createElement('article');
      root.className = 'product-card card';

      const thumb = document.createElement('div'); thumb.className = 'thumb';
      const img = document.createElement('img'); img.alt = p.name || ''; img.loading = 'lazy';
      img.src = p.imageUrl || PLACEHOLDER;
      img.onerror = () => img.src = PLACEHOLDER;
      thumb.appendChild(img);

      const body = document.createElement('div'); body.className = 'card-body';
      const titleRow = document.createElement('div'); titleRow.className = 'title-row';
      const badge = document.createElement('span'); badge.className = 'badge';
      if((p.status||'').toLowerCase() === '‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á') badge.textContent = '‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á';
      else badge.textContent = 'üëú';
      titleRow.appendChild(badge);

      const title = document.createElement('div'); title.className = 'product-title'; title.textContent = p.name || '-';
      titleRow.appendChild(title);
      body.appendChild(titleRow);

      const price = document.createElement('div'); price.className = 'product-price'; price.textContent = (p.cost ? p.cost + ' ‡∏ö‡∏≤‡∏ó' : '-');
      body.appendChild(price);

      const st = document.createElement('div'); st.className = 'muted small'; st.textContent = '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ' + (p.status||'-');
      const qt = document.createElement('div'); qt.className = 'muted small'; qt.textContent = '‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ' + (Number(p.quantity)||0);
      body.appendChild(st); body.appendChild(qt);

      const foot = document.createElement('div'); foot.className = 'card-foot';
      const left = document.createElement('div'); left.className = 'left';
      const btnDetail = document.createElement('button'); btnDetail.className = 'btn-outline'; btnDetail.textContent = '‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î';
      btnDetail.addEventListener('click', () => openDetail(p));
      left.appendChild(btnDetail);
      foot.appendChild(left);

      root.appendChild(thumb);
      root.appendChild(body);
      root.appendChild(foot);
      return root;
    }

    function renderCards(list){
      const container = qs('#cards');
      container.innerHTML = '';
      if(!list || !list.length){
        container.innerHTML = '<div class="empty-state">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>';
        qs('#resultCount').textContent = '0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£';
        return;
      }
      qs('#resultCount').textContent = list.length + ' ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£';
      const frag = document.createDocumentFragment();
      list.forEach(p => frag.appendChild(makeCard(p)));
      container.appendChild(frag);
    }

    function openDetail(p){
      qs('#modalImg').src = p.imageUrl || PLACEHOLDER;
      qs('#modalTitle').textContent = p.name || '';
      qs('#modalPrice').textContent = p.cost ? (p.cost + ' ‡∏ö‡∏≤‡∏ó') : '-';
      qs('#modalStatus').textContent = '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ' + (p.status || '-');
      qs('#modalDesc').textContent = p.description || '';
      qs('#detailModal').classList.remove('hidden');
      qs('#detailModal').setAttribute('aria-hidden','false');
    }
    function closeDetail(){
      qs('#detailModal').classList.add('hidden');
      qs('#detailModal').setAttribute('aria-hidden','true');
    }

    // populate category selects from items
    function populateFilters(items){
      const catSel = qs('#filterCategory');
      if(!catSel) return;
      const cats = new Set();
      items.forEach(i => { if(i.category) cats.add(i.category); });
      const cur = catSel.value || '';
      catSel.innerHTML = '<option value="">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>';
      Array.from(cats).sort().forEach(c => {
        const o = document.createElement('option'); o.value = c; o.textContent = c; catSel.appendChild(o);
      });
      if(cur) catSel.value = cur;
    }

    async function loadProducts(q){
      try{
        setHidden(qs('#loadingInline'), false);
        spinner.show('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...');
        let res = null;
        if(APPS_SCRIPT_URL){
          res = await apiGet({ action:'list', limit: 300 });
        } else {
          // sample data when no server URL provided
          res = { ok:true, data: sampleData() };
        }

        if(!res || !res.ok){
          renderCards([]);
          qs('#catalogMsg').textContent = '‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß';
          spinner.hide();
          setHidden(qs('#loadingInline'), true);
          return;
        }

        const data = res.data || [];
        data.forEach(d => { d.quantity = Number(d.quantity)||0; d.cost = Number(d.cost)||0; });

        // optional simple client filtering by q/category/status
        let filtered = data.slice();
        const qText = (q && q.trim()) || (qs('#searchInput') && qs('#searchInput').value.trim()) || '';
        if(qText){
          const ql = qText.toLowerCase();
          filtered = filtered.filter(it => (it.name||'').toLowerCase().includes(ql) || (it.sku||'').toLowerCase().includes(ql));
        }
        const cat = qs('#filterCategory').value;
        if(cat) filtered = filtered.filter(it => (it.category||'') === cat);
        const st = qs('#filterStatus').value;
        if(st) filtered = filtered.filter(it => (it.status||'') === st);

        populateFilters(data);
        renderCards(filtered);
        spinner.hide();
        setHidden(qs('#loadingInline'), true);
      } catch(err){
        console.error(err);
        spinner.hide();
        setHidden(qs('#loadingInline'), true);
        qs('#catalogMsg').textContent = '‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + (err && err.message || err);
      }
    }

    function sampleData(){
      return [
        { sku:'SF0112', name:'‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)', quantity:60, cost:500, status:'‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á', imageUrl:'https://picsum.photos/id/1025/800/480', category:'‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô' },
        { sku:'SF0144', name:'‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡∏û‡∏±‡∏ö‡πÑ‡∏î‡πâ', quantity:10, cost:10, status:'active', imageUrl:'https://picsum.photos/id/1050/800/480', category:'‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô' },
        { sku:'SF0152', name:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÅ‡∏à‡πá‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏î‡∏≥', quantity:20, cost:200, status:'active', imageUrl:'https://picsum.photos/id/1062/800/480', category:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤' },
      ];
    }

    // wire up events
    function init(){
      // remove any stray hard-coded .card nodes (defensive)
      qsa('.card').forEach(el => { if(!el.closest('#cards')) el.remove(); });

      qs('#searchBtn').addEventListener('click', ()=> loadProducts(qs('#searchInput').value));
      qs('#searchInput').addEventListener('keydown', (e)=> { if(e.key === 'Enter') loadProducts(qs('#searchInput').value); });

      qs('#clearFilters').addEventListener('click', ()=>{
        qs('#searchInput').value = '';
        qs('#filterCategory').value = '';
        qs('#filterStatus').value = '';
        loadProducts();
      });

      qs('#filterCategory').addEventListener('change', ()=> loadProducts());
      qs('#filterStatus').addEventListener('change', ()=> loadProducts());

      // nav buttons
      qsa('.nav-btn').forEach(btn => btn.addEventListener('click', (ev)=>{
        qsa('.nav-btn').forEach(b=>b.classList.remove('active'));
        ev.currentTarget.classList.add('active');
        const view = ev.currentTarget.dataset.view;
        if(view !== 'catalog'){
          // placeholders for other pages ‚Äî you asked to create switch buttons; they alert for now
          alert('‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πâ‡∏≤: ' + view + '\n(‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Catalog ‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô placeholder ‚Äî ‡∏à‡∏∞‡∏Ç‡∏¢‡∏≤‡∏¢‡πÉ‡∏ô Phase ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)');
        }
      }));

      qs('#closeModal').addEventListener('click', closeDetail);
      qs('#modalCloseBtn').addEventListener('click', closeDetail);
      qs('#detailModal').addEventListener('click', (e) => { if(e.target === qs('#detailModal')) closeDetail(); });
      document.addEventListener('keydown', (e) => { if(e.key === 'Escape') closeDetail(); });

      // initial load
      loadProducts();
    }

    document.addEventListener('DOMContentLoaded', init);
  })();
  </script>
</body>
</html>
