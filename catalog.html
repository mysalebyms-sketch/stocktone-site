<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Catalog - StockTone</title>

  <!-- ใช้ style.css ที่ผมส่งก่อนหน้า -->
  <link rel="stylesheet" href="style.css">

  <!-- config.js ต้องมีตัวแปร APPS_SCRIPT_URL -->
  <script src="config.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <div class="logo">StockTone</div>
        <div class="sub">ระบบจัดการสินค้า — Catalog</div>
      </div>

      <div class="search-row">
        <input id="searchInput" placeholder="ค้นหาสินค้า..." aria-label="ค้นหาสินค้า" />
        <button id="searchBtn" class="btn">ค้นหา</button>
      </div>

      <nav class="page-switch" aria-label="หน้า">
        <a href="catalog.html" class="active" id="navCatalog">Catalog</a>
        <a href="history.html" id="navHistory">History</a>
        <a href="admin.html" id="navAdmin">Admin</a>
      </nav>
    </div>
  </header>

  <main class="container main-grid" role="main">
    <!-- Filters column (mobile: sits above content) -->
    <aside class="filters-card" aria-label="ตัวกรอง">
      <label for="filterCategory">หมวดหมู่</label>
      <select id="filterCategory" class="select" aria-label="เลือกหมวดหมู่">
        <option value="">หมวดหมู่ทั้งหมด</option>
      </select>

      <div style="height:12px"></div>

      <label for="filterStatus">สถานะ</label>
      <select id="filterStatus" class="select" aria-label="เลือกสถานะ">
        <option value="">สถานะทั้งหมด</option>
        <option value="active">active</option>
        <option value="deleted">deleted</option>
        <option value="พร้อมส่ง">พร้อมส่ง</option>
      </select>

      <div style="height:12px"></div>
      <button id="clearFilters" class="btn btn-ghost">ล้าง</button>
    </aside>

    <!-- Catalog area -->
    <section class="catalog-card catalog-area" aria-labelledby="catalogHeading">
      <div class="catalog-top">
        <div class="result-count" id="catalogHeading">กำลังแสดงสินค้า</div>
        <div class="muted small" id="catalogMsg"></div>
      </div>

      <!-- spinnerOverlay: catalog.js will create if not present, but we include for clarity -->
      <div id="spinnerOverlay" class="spinner-overlay hidden" style="display:none;">
        <div class="spinner-dot" aria-hidden="true"></div>
        <div class="muted small" id="spinnerStep">กำลังโหลด...</div>
      </div>

      <!-- CARD GRID: สคริปต์จะ render ลงใน #cards -->
      <div id="cards" class="cards-grid" role="list" aria-live="polite"></div>

      <!-- empty / info -->
      <div class="site-footer" style="margin-top:20px;">StockTone — catalog view</div>
    </section>
  </main>

  <!-- detail modal (catalog.js will create if needed) -->
  <!-- scripts: config.js must be present and define APPS_SCRIPT_URL -->
  <script src="catalog.js"></script>
</body>
</html>
